let tickerAnimationId=null,tickerActive=!0,currentOffset=0,lastTime=null;const speed=50,allMonsters=Array.from(document.querySelectorAll(".monster"));function getRandomMonster(){const e=Math.floor(Math.random()*allMonsters.length);return allMonsters[e]}function initTicker(){const e=document.getElementById("monsterTicker");e.innerHTML="";for(let t=0;t<8;t++){const t=document.createElement("div");t.className="monster-wrapper",t.innerHTML=getRandomMonster().outerHTML,e.appendChild(t)}currentOffset=0,e.style.transform="translateX(0)"}function animateTicker(e){if(!tickerActive)return;lastTime||(lastTime=e);const t=e-lastTime;lastTime=e,currentOffset+=t/1e3*50;const n=document.getElementById("monsterTicker");if(n.style.transform=`translateX(-${currentOffset}px)`,n.firstElementChild){const e=getComputedStyle(n.firstElementChild),t=n.firstElementChild.offsetWidth+parseInt(e.marginRight);if(currentOffset>=t){n.removeChild(n.firstElementChild);const e=document.createElement("div");e.className="monster-wrapper",e.innerHTML=getRandomMonster().outerHTML,n.appendChild(e),currentOffset-=t,n.style.transform=`translateX(-${currentOffset}px)`}}tickerAnimationId=requestAnimationFrame(animateTicker)}function showFilteredMonsters(e){const t=document.getElementById("monsterTicker");t.innerHTML="",e.slice(0,5).forEach((e=>{const n=document.createElement("div");n.className="monster-wrapper",n.innerHTML=e.outerHTML,t.appendChild(n)})),t.style.transform="translateX(0)"}document.querySelector(".item_search_input").addEventListener("input",(function(){const e=this.value.trim().toLowerCase();if(""===e)return void(tickerActive||(initTicker(),tickerActive=!0,tickerAnimationId=requestAnimationFrame(animateTicker)));tickerActive&&(cancelAnimationFrame(tickerAnimationId),tickerActive=!1);const t=allMonsters.filter((t=>t.textContent.trim().toLowerCase().includes(e)));t.sort(((t,n)=>{const r=t.textContent.trim().toLowerCase(),i=n.textContent.trim().toLowerCase(),o=r.startsWith(e),s=i.startsWith(e);return o&&!s?-1:!o&&s?1:0})),showFilteredMonsters(t)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("allMonstersTable");e&&(e.style.display="none"),allMonsters.forEach((e=>e.style.display="none"));const t=document.querySelector("#monsterSearch .CaptionContainer");t&&(t.style.display="none");const n=document.getElementById("monsterSearch");n.style.display="block";let r=document.getElementById("monsterTicker");r||(r=document.createElement("div"),r.id="monsterTicker",n.appendChild(r)),initTicker(),tickerActive=!0,tickerAnimationId=requestAnimationFrame(animateTicker)}));