let filteredCreaturesGlobal=[],isSearching=!1;function renderSearchTable(){const e=document.getElementById("creatureTableBody");e.innerHTML="";const t=(currentPage-1)*itemsPerPage,n=t+itemsPerPage,r=[...filteredCreaturesGlobal].sort(((e,t)=>{let n=e[currentSort.column]??"",r=t[currentSort.column]??"";return"health"===currentSort.column||"experience"===currentSort.column?(n=Number(n)||0,r=Number(r)||0):(n=n.toString().toLowerCase(),r=r.toString().toLowerCase()),"asc"===currentSort.order?n>r?1:-1:n<r?1:-1})).slice(t,n);let a="Even";r.forEach((t=>{const n=document.createElement("tr");n.className=a;const r=document.createElement("td");r.style.textAlign="center",r.style.fontWeight="bold";const s=document.createElement("a");s.href="/about/creaturesView/"+encodeURIComponent(t.name),s.style.font="bold 12px Arial",s.innerText=t.name,r.appendChild(s),n.appendChild(r);const c=document.createElement("td");c.style.textAlign="center";const o=document.createElement("a");o.href="/about/creaturesView/"+encodeURIComponent(t.name);const l=document.createElement("div");l.className="creatureListBox";const i=document.createElement("img");i.src=creaturesOutfit.hasOwnProperty(t.name)?`/outfits/animoutfit.php?id=${t.type}&addons=${creaturesOutfit[t.name].addons}&head=${creaturesOutfit[t.name].head}&body=${creaturesOutfit[t.name].body}&legs=${creaturesOutfit[t.name].legs}&feet=${creaturesOutfit[t.name].feet}`:`/outfits/animoutfit.php?id=${t.type}.gif?v=2`,l.appendChild(i),o.appendChild(l),c.appendChild(o),n.appendChild(c);const d=document.createElement("td");d.style.textAlign="center";const u=document.createElement("div");u.style.display="flex",u.style.alignItems="center",u.style.justifyContent="center",u.style.gap="3px";const m=document.createElement("img");m.src="/images/tbIcons/hearthp.png",m.alt="HP Icon";const p=document.createElement("span");p.innerText=t.health,u.appendChild(m),u.appendChild(p),d.appendChild(u),n.appendChild(d);const g=document.createElement("td");g.style.textAlign="center";const h=document.createElement("div");h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h.style.gap="3px";const f=document.createElement("img");f.src="/images/tbIcons/experience.png",f.alt="XP Icon";const y=document.createElement("span");y.innerText=t.experience,h.appendChild(f),h.appendChild(y),g.appendChild(h),n.appendChild(g),e.appendChild(n),a="Even"===a?"Odd":"Even"})),generateSearchPagination(filteredCreaturesGlobal.length)}function generateSearchPagination(e){const t=document.getElementById("paginationLeft"),n=document.getElementById("paginationRight"),r=Math.ceil(e/itemsPerPage);let a="<b>» Pages:&nbsp;";for(let e=1;e<=r;e++)a+='<span class="PageLink">',a+=e===currentPage?`<span class="CurrentPageLink">${e}</span>`:`<a href="#" onclick="event.preventDefault(); currentPage = ${e}; renderSearchTable();">${e}</a>`,a+="</span>\n";a+="</b>",t.innerHTML=a,n.innerHTML=`<b>» Results: ${e}</b>`}document.getElementById("search_creature").addEventListener("input",(function(){const e=this.value.toLowerCase().trim();isSearching=e.length>0;const t="rgb(90, 40, 0)"===document.querySelector("#btnMonsters label").style.color?"Monsters":"Bosses";filteredCreaturesGlobal=creatures.filter((n=>{const r=bossesList.includes(n.name);if(!("Bosses"===t?r:!r))return!1;if(""===e)return!0;return n.name.toLowerCase().split(" ").some((t=>t.startsWith(e)))})),currentPage=1,renderSearchTable()}));const creaturesElement=document.getElementById("creatureData"),creatures=JSON.parse(creaturesElement.getAttribute("data-creatures")),outfitElement=document.getElementById("creatureOutfit"),creaturesOutfit=JSON.parse(outfitElement.getAttribute("data-creaturesoutfit")),bossesList=["Apocalypse","Ashmunrah","Bazir","Bring me to hallowenn","Christmas elf","Demodras","Dharalion","Dipthrah","Efreet","Fernfang","Ferumbras","General murius","Grorlam","Illusion","Infernatil","Mahrdis","Marid","Morgaroth","Morguthis","Necropharus","Novice pumpkinhead","Omruc","Orshabaal","Pumpkinhead","Ragemos","Thalas","The evil eye","The halloween hare","The horned fox","The old widow","Vashreasamun","Yeti"];let currentSort={column:"name",order:"asc"},currentPage=1;const itemsPerPage=20;function generateCreatureTable(e="Monsters",t="name",n="asc",r=1){const a=document.getElementById("creatureTableBody");a.innerHTML="";let s=creatures.filter((t=>"Bosses"===e?bossesList.includes(t.name):!bossesList.includes(t.name)));s.sort(((e,r)=>{let a=e[t]??"",s=r[t]??"";return"health"===t||"experience"===t?(a=Number(a)||0,s=Number(s)||0):(a=a.toString().toLowerCase(),s=s.toString().toLowerCase()),"asc"===n?a>s?1:-1:a<s?1:-1}));const c=Math.ceil(s.length/itemsPerPage);currentPage=Math.min(Math.max(1,r),c);const o=(currentPage-1)*itemsPerPage,l=o+itemsPerPage,i=s.slice(o,l);let d="Even";i.forEach((e=>{const t=document.createElement("tr");t.className=d;const n=document.createElement("td");n.style.textAlign="center",n.style.fontWeight="bold";const r=document.createElement("a");r.href="/about/creaturesView/"+encodeURIComponent(e.name),r.style.font="bold 12px Arial",r.innerText=e.name,n.appendChild(r),t.appendChild(n);const s=document.createElement("td");s.style.textAlign="center";const c=document.createElement("a");c.href="/about/creaturesView/"+encodeURIComponent(e.name);const o=document.createElement("div");o.className="creatureListBox";const l=document.createElement("img");l.src=creaturesOutfit.hasOwnProperty(e.name)?`/outfits/animoutfit.php?id=${e.type}&addons=${creaturesOutfit[e.name].addons}&head=${creaturesOutfit[e.name].head}&body=${creaturesOutfit[e.name].body}&legs=${creaturesOutfit[e.name].legs}&feet=${creaturesOutfit[e.name].feet}`:`/outfits/animoutfit.php?id=${e.type}.gif?v=2`,o.appendChild(l),c.appendChild(o),s.appendChild(c),t.appendChild(s);const i=document.createElement("td");i.style.textAlign="center";const u=document.createElement("div");u.style.display="flex",u.style.alignItems="center",u.style.justifyContent="center",u.style.gap="3px";const m=document.createElement("img");m.src="/images/tbIcons/hearthp.png",m.alt="HP Icon";const p=document.createElement("span");p.innerText=e.health,u.appendChild(m),u.appendChild(p),i.appendChild(u),t.appendChild(i);const g=document.createElement("td");g.style.textAlign="center";const h=document.createElement("div");h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h.style.gap="3px";const f=document.createElement("img");f.src="/images/tbIcons/experience.png",f.alt="XP Icon";const y=document.createElement("span");y.innerText=e.experience,h.appendChild(f),h.appendChild(y),g.appendChild(h),t.appendChild(g),a.appendChild(t),d="Even"===d?"Odd":"Even"})),generatePagination(s.length,e),btnMonsters.querySelector("label").style.color="Monsters"===e?"rgb(90, 40, 0)":"#004294",btnBosses.querySelector("label").style.color="Bosses"===e?"rgb(90, 40, 0)":"#004294"}function generatePagination(e,t){const n=document.getElementById("paginationLeft"),r=document.getElementById("paginationRight");if(!n||!r)return;const a=Math.ceil(e/itemsPerPage);let s="<b>» Pages:&nbsp;";for(let e=1;e<=a;e++)s+='<span class="PageLink">',s+=e===currentPage?`<span class="CurrentPageLink">${e}</span>`:`<a href="#" onclick="event.preventDefault(); generateCreatureTable('${t}', '${currentSort.column}', '${currentSort.order}', ${e});">${e}</a>`,s+="</span>\n";s+="</b>";let c=`<b>» Results: ${creatures.filter((e=>"Bosses"===t?bossesList.includes(e.name):!bossesList.includes(e.name))).length}</b>`;n.innerHTML=s,r.innerHTML=c}function renderFilteredCreaturesByType(e){const t=document.getElementById("search_creature").value.toLowerCase().trim();filteredCreaturesGlobal=creatures.filter((n=>{const r=bossesList.includes(n.name);if(!("Bosses"===e?r:!r))return!1;if(""===t)return!0;return n.name.toLowerCase().split(" ").some((e=>e.startsWith(t)))})),currentPage=1,renderSearchTable()}document.getElementById("btnMonsters").addEventListener("click",(()=>{isSearching?renderFilteredCreaturesByType("Monsters"):generateCreatureTable("Monsters")})),document.getElementById("btnBosses").addEventListener("click",(()=>{isSearching?renderFilteredCreaturesByType("Bosses"):generateCreatureTable("Bosses")})),document.querySelectorAll(".sort").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-column");currentSort.order=currentSort.column===t&&"asc"===currentSort.order?"desc":"asc",currentSort.column=t;const n="rgb(90, 40, 0)"===document.querySelector("#btnMonsters label").style.color?"Monsters":"Bosses";isSearching?renderSearchTable():generateCreatureTable(n,currentSort.column,currentSort.order,currentPage)}))})),window.onload=()=>generateCreatureTable("Monsters");